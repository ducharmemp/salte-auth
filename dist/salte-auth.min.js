/**
 * @salte-auth/salte-auth JavaScript Library v2.14.2
 *
 * @license MIT (https://github.com/salte-auth/salte-auth/blob/master/LICENSE)
 *
 * Made with â™¥ by Nick Woodward <nick@salte.io>, Dave Woodward <dave@salte.io>
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("salte.auth",[],e):"object"==typeof exports?exports["salte.auth"]=e():t["salte.auth"]=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";n.r(e),n.d(e,"SalteAuth",(function(){return w}));var r=n(2),o=n.n(r),i=n(54),u=n.n(i),c=n(106),s=n.n(c),a=n(118),f=n.n(a),l=n(120),p=n.n(l),h=n(125),d=n.n(h),v=n(126),y=n(133),g=n(178),m=n(179);function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $=d()("@salte-auth/salte-auth"),w=function(){function t(e){var n=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),window.salte.auth)return window.salte.auth;if(!e)throw new ReferenceError("A config must be provided.");if(this.$providers=v.Providers,this.$promises={},this.$timeouts={},this.$listeners={},this.$config=e,this.$config=u()(e,this.$provider.defaultConfig,{loginType:"iframe",autoRefresh:!0,autoRefreshBuffer:6e4}),this.$utilities=new g.SalteAuthUtilities(this.$config),this.profile=new y.SalteAuthProfile(this.$config),this.mixin=Object(m.SalteAuthMixinGenerator)(this),this.$utilities.$iframe)$("Detected iframe, removing..."),this.profile.$parseParams(),parent.document.body.removeChild(this.$utilities.$iframe);else if(this.$utilities.$popup)$("Popup detected!");else if(this.profile.$redirectUrl&&location.href!==this.profile.$redirectUrl){$("Redirect detected!"),this.profile.$parseParams();var r=this.profile.$validate();setTimeout((function(){var t=n.profile.$actions(n.profile.$state);r?n.profile.$clear():($("Navigating to Redirect URL... (".concat(n.profile.$redirectUrl,")")),n.$utilities.$navigate(n.profile.$redirectUrl),n.profile.$redirectUrl=void 0),"login"===t?n.$fire("login",r||null,n.profile.code||n.profile.userInfo):"logout"===t&&n.$fire("logout",r),n.$config.redirectLoginCallback&&n.$config.redirectLoginCallback(r)}))}else $("Setting up interceptors..."),this.$utilities.addXHRInterceptor((function(t,e){if("code"!==n.$config.responseType&&n.$utilities.checkForMatchingUrl(t.$url,n.$config.endpoints))return n.retrieveAccessToken().then((function(e){t.setRequestHeader("Authorization","Bearer ".concat(e))}))})),this.$utilities.addFetchInterceptor((function(t){if("code"!==n.$config.responseType&&n.$utilities.checkForMatchingUrl(t.url,n.$config.endpoints))return n.retrieveAccessToken().then((function(e){t.headers.set("Authorization","Bearer ".concat(e))}))})),$("Setting up route change detectors..."),window.addEventListener("popstate",this.$$onRouteChanged.bind(this),{passive:!0}),document.addEventListener("click",this.$$onRouteChanged.bind(this),{passive:!0}),setTimeout(this.$$onRouteChanged.bind(this)),$("Setting up automatic renewal of token..."),this.on("login",(function(t){t||n.$$refreshToken()})),this.on("refresh",(function(t){t||n.$$refreshToken()})),this.on("logout",(function(){clearTimeout(n.$timeouts.refresh)})),this.profile.idTokenExpired||this.$$refreshToken(),document.addEventListener("visibilitychange",this.$$onVisibilityChanged.bind(this),{passive:!0}),this.$fire("create",null,this);window.salte.auth=this,this.$config.redirectLoginCallback&&console.warn('The "redirectLoginCallback" api has been deprecated in favor of the "on" api, see http://bit.ly/salte-auth-on for more info.')}var e,n,r;return e=t,(n=[{key:"$loginUrl",value:function(t){this.profile.$localState=p.a.v4(),this.profile.$nonce=p.a.v4();var e="".concat(this.$config.providerUrl,"/authorize");return this.$provider.authorizeEndpoint&&(e=this.$provider.authorizeEndpoint.call(this,this.$config)),this.$utilities.createUrl(e,o()({state:this.profile.$localState,nonce:this.profile.$nonce,response_type:this.$config.responseType,redirect_uri:this.$config.redirectUrl&&this.$config.redirectUrl.loginUrl||this.$config.redirectUrl,client_id:this.$config.clientId,scope:this.$config.scope,prompt:t?"none":void 0},this.$config.queryParams))}},{key:"on",value:function(t,e){if(-1===["login","logout","refresh","expired"].indexOf(t))throw new ReferenceError("Unknown Event Type (".concat(t,")"));if("function"!=typeof e)throw new ReferenceError("Invalid callback provided!");this.$listeners[t]=this.$listeners[t]||[],this.$listeners[t].push(e)}},{key:"off",value:function(t,e){if(-1===["login","logout","refresh","expired"].indexOf(t))throw new ReferenceError("Unknown Event Type (".concat(t,")"));if("function"!=typeof e)throw new ReferenceError("Invalid callback provided!");var n=this.$listeners[t];if(n&&n.length){var r=n.indexOf(e);n.splice(r,1)}}},{key:"$fire",value:function(t,e,n){var r=document.createEvent("Event");r.initEvent("salte-auth-".concat(t),!1,!0),r.detail={error:e,data:n},window.dispatchEvent(r);var o=this.$listeners[t];o&&o.length&&o.forEach((function(t){return t(e,n)}))}},{key:"loginWithIframe",value:function(t){var e=this;return this.$promises.login?this.$promises.login:("boolean"==typeof t&&(t={noPrompt:t,clear:t?"errors":void 0,events:!1,timeout:3e3}),"all"===(t=u()(t,{noPrompt:!1,clear:"all",events:!0})).clear?this.profile.$clear():"errors"===t.clear&&this.profile.$clearErrors(),this.$promises.login=this.$utilities.createIframe(this.$loginUrl(t.noPrompt),!t.noPrompt,t.timeout).then((function(){e.$promises.login=null;var n=e.profile.$validate();if(n)return Promise.reject(n);var r=e.profile.code||e.profile.userInfo;return t.events&&e.$fire("login",null,r),r})).catch((function(n){return e.$promises.login=null,t.events&&e.$fire("login",n),Promise.reject(n)})),this.$promises.login)}},{key:"loginWithPopup",value:function(){var t=this;return this.$promises.login?this.$promises.login:(this.profile.$clear(),this.$promises.login=this.$utilities.openPopup(this.$loginUrl()).then((function(){t.$promises.login=null,t.profile.$parseParams();var e=t.profile.$validate();if(e)return t.profile.$clear(),Promise.reject(e);var n=t.profile.code||t.profile.userInfo;return t.$fire("login",null,n),n})).catch((function(e){return t.$promises.login=null,t.$fire("login",e),Promise.reject(e)})),this.$promises.login)}},{key:"loginWithNewTab",value:function(){var t=this;return this.$promises.login?this.$promises.login:(this.profile.$clear(),this.$promises.login=this.$utilities.openNewTab(this.$loginUrl()).then((function(){t.$promises.login=null,t.profile.$parseParams();var e=t.profile.$validate();if(e)return t.profile.$clear(),Promise.reject(e);var n=t.profile.code||t.profile.userInfo;return t.$fire("login",null,n),n})).catch((function(e){return t.$promises.login=null,t.$fire("login",e),Promise.reject(e)})),this.$promises.login)}},{key:"loginWithRedirect",value:function(t){if(this.$config.redirectLoginCallback&&console.warn('The "redirectLoginCallback" api has been deprecated in favor of the "on" api, see http://bit.ly/salte-auth-on for more info.'),this.$promises.login)return this.$promises.login;this.$promises.login=new Promise((function(){})),this.profile.$clear(),this.profile.$redirectUrl=t&&this.$utilities.resolveUrl(t)||this.profile.$redirectUrl||location.href;var e=this.$loginUrl();return this.profile.$actions(this.profile.$localState,"login"),this.$utilities.$navigate(e),this.$promises.login}},{key:"logoutWithIframe",value:function(){var t=this;if(this.$promises.logout)return this.$promises.logout;var e=this.$deauthorizeUrl;return this.profile.$clear(),this.$promises.logout=this.$utilities.createIframe(e).then((function(){t.$promises.logout=null,t.$fire("logout")})).catch((function(e){return t.$promises.logout=null,t.$fire("logout",e),Promise.reject(e)})),this.$promises.logout}},{key:"logoutWithPopup",value:function(){var t=this;if(this.$promises.logout)return this.$promises.logout;var e=this.$deauthorizeUrl;return this.profile.$clear(),this.$promises.logout=this.$utilities.openPopup(e).then((function(){t.$promises.logout=null,t.$fire("logout")})).catch((function(e){return t.$promises.logout=null,t.$fire("logout",e),Promise.reject(e)})),this.$promises.logout}},{key:"logoutWithNewTab",value:function(){var t=this;if(this.$promises.logout)return this.$promises.logout;var e=this.$deauthorizeUrl;return this.profile.$clear(),this.$promises.logout=this.$utilities.openNewTab(e).then((function(){t.$promises.logout=null,t.$fire("logout")})).catch((function(e){return t.$promises.logout=null,t.$fire("logout",e),Promise.reject(e)})),this.$promises.logout}},{key:"logoutWithRedirect",value:function(){var t=this.$deauthorizeUrl;this.profile.$clear(),this.profile.$actions(this.profile.$localState,"logout"),this.$utilities.$navigate(t)}},{key:"refreshToken",value:function(){var t=this;return this.$promises.refresh?this.$promises.refresh:(this.$promises.refresh=this.loginWithIframe(!0).then((function(e){t.$promises.refresh=null;var n=t.profile.$validate(!0);return n?Promise.reject(n):(t.$promises.refresh=null,t.$fire("refresh",null,e),e)})).catch((function(e){return t.$promises.refresh=null,t.$fire("refresh",e),Promise.reject(e)})),this.$promises.refresh)}},{key:"$$refreshToken",value:function(){var t=this;void 0!==this.$timeouts.refresh&&clearTimeout(this.$timeouts.refresh),void 0!==this.$timeouts.expired&&clearTimeout(this.$timeouts.expired);var e=1e3*this.profile.userInfo.exp-Date.now();this.$timeouts.refresh=setTimeout((function(){t.$config.autoRefresh?t.refreshToken().catch((function(t){console.error(t)})):t.$fire("refresh")}),Math.max(e-this.$config.autoRefreshBuffer,0)),this.$timeouts.expired=setTimeout((function(){t.$fire("expired")}),Math.max(e,0))}},{key:"retrieveAccessToken",value:function(){var t=this;if(this.$promises.token)return $("Existing token request detected, resolving..."),this.$promises.token;if(this.$promises.token=Promise.resolve(),"code"===this.$config.responseType&&!this.profile.code||"code"!==this.$config.responseType&&this.profile.idTokenExpired)if($("id token has expired, reauthenticating..."),"iframe"===this.$config.loginType)$("Initiating the iframe flow..."),this.$promises.token=this.loginWithIframe();else if("redirect"===this.$config.loginType)this.$promises.token=this.loginWithRedirect();else{if(!1!==this.$config.loginType)return this.$promises.token=null,Promise.reject(new ReferenceError("Invalid Login Type (".concat(this.$config.loginType,")")));if(!this.$promises.login)return this.$promises.token=null,Promise.reject(new ReferenceError("Automatic login is disabled, please login before making any requests!"));this.$promises.token=this.$promises.login}return"code"!==this.$config.responseType&&(this.$promises.token=this.$promises.token.then((function(){return t.profile.$clearErrors(),t.profile.accessTokenExpired?($("Access token has expired, renewing..."),t.$utilities.createIframe(t.$accessTokenUrl).then((function(){var e=t.profile.$validate(!0);return e?Promise.reject(e):t.profile.$accessToken}))):t.profile.$accessToken}))),this.$promises.token&&(this.$promises.token=this.$promises.token.then((function(e){return t.$promises.token=null,e})).catch((function(e){return t.$promises.token=null,Promise.reject(e)}))),this.$promises.token}},{key:"$$onRouteChanged",value:function(){$("Route change detected, determining if the route is secured..."),this.$utilities.isRouteSecure(location.href,this.$config.routes)&&($("Route is secure, verifying tokens..."),this.retrieveAccessToken())}},{key:"$$onVisibilityChanged",value:function(){var t=this;$("Visibility change detected, deferring to the next event loop..."),$("Determining if the id token has expired..."),!this.profile.idTokenExpired&&this.$config.autoRefresh&&(this.$utilities.$hidden?($("Page is hidden, refreshing the token..."),this.refreshToken().then((function(){$("Disabling automatic renewal of the token..."),clearTimeout(t.$timeouts.refresh),t.$timeouts.refresh=null}))):($("Page is visible restarting automatic token renewal..."),this.$$refreshToken()))}},{key:"$provider",get:function(){if(!this.$config.provider)throw new ReferenceError("A provider must be specified");if("string"==typeof this.$config.provider){var t=this.$providers[this.$config.provider];if(!t)throw new ReferenceError("Unknown Provider (".concat(this.$config.provider,")"));return t}return this.$config.provider}},{key:"$accessTokenUrl",get:function(){this.profile.$localState=p.a.v4(),this.profile.$nonce=p.a.v4();var t="".concat(this.$config.providerUrl,"/authorize");return this.$provider.authorizeEndpoint&&(t=this.$provider.authorizeEndpoint.call(this,this.$config)),this.$utilities.createUrl(t,o()({state:this.profile.$localState,nonce:this.profile.$nonce,response_type:"token",redirect_uri:this.$config.redirectUrl&&this.$config.redirectUrl.loginUrl||this.$config.redirectUrl,client_id:this.$config.clientId,scope:this.$config.scope,prompt:"none"},this.$config.queryParams))}},{key:"$deauthorizeUrl",get:function(){return this.$provider.deauthorizeUrl.call(this,u()(this.$config,{idToken:this.profile.$idToken}))}}])&&b(e.prototype,n),r&&b(e,r),t}();f()(window,"salte.SalteAuth",s()(window,"salte.SalteAuth",w)),e.default=w},function(t,e,n){var r=n(3),o=n(22),i=n(23),u=n(33),c=n(36),s=n(37),a=Object.prototype.hasOwnProperty,f=i((function(t,e){if(c(e)||u(e))o(e,s(e),t);else for(var n in e)a.call(e,n)&&r(t,n,e[n])}));t.exports=f},function(t,e,n){var r=n(4),o=n(21),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var u=t[e];i.call(t,e)&&o(u,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(5);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var r=n(6),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var r=n(7),o=n(20);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(8),o=n(17),i=n(16),u=n(19),c=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,f=s.toString,l=a.hasOwnProperty,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:c).test(u(t))}},function(t,e,n){var r=n(9),o=n(16),i="[object AsyncFunction]",u="[object Function]",c="[object GeneratorFunction]",s="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var e=r(t);return e==u||e==c||e==i||e==s}},function(t,e,n){var r=n(10),o=n(14),i=n(15),u="[object Null]",c="[object Undefined]",s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?c:u:s&&s in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(11).Symbol;t.exports=r},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(12),i="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,u=o||i||Function("return this")();t.exports=u},function(t,e,n){(function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e;t.exports=r}).call(this,n(13))},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e,n){var r=n(10),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,c=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(t){}var o=u.call(t);return r&&(e?t[c]=n:delete t[c]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=n(t);return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r,o=n(18),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(11)["__core-js_shared__"];t.exports=r},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(3),o=n(4);t.exports=function(t,e,n,i){var u=!n;n||(n={});for(var c=-1,s=e.length;++c<s;){var a=e[c],f=i?i(n[a],t[a],a,n,t):void 0;void 0===f&&(f=t[a]),u?o(n,a,f):r(n,a,f)}return n}},function(t,e,n){var r=n(24),o=n(32);t.exports=function(t){return r((function(e,n){var r=-1,i=n.length,u=i>1?n[i-1]:void 0,c=i>2?n[2]:void 0;for(u=t.length>3&&"function"==typeof u?(i--,u):void 0,c&&o(n[0],n[1],c)&&(u=i<3?void 0:u,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,u)}return e}))}},function(t,e,n){var r=n(25),o=n(26),i=n(28);t.exports=function(t,e){return i(o(t,e,r),t+"")}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(27),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,u=-1,c=o(i.length-e,0),s=Array(c);++u<c;)s[u]=i[e+u];u=-1;for(var a=Array(e+1);++u<e;)a[u]=i[u];return a[e]=n(s),r(t,this,a)}}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(29),o=n(31)(r);t.exports=o},function(t,e,n){var r=n(30),o=n(5),i=n(25),u=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=u},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e){var n=800,r=16,o=Date.now;t.exports=function(t){var e=0,i=0;return function(){var u=o(),c=r-(u-i);if(i=u,c>0){if(++e>=n)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(21),i=n(33),u=n(35),c=n(16);t.exports=function(t,e,n){if(!c(n))return!1;var s=r(e);return!!("number"==s?i(n)&&u(e,n.length):"string"==s&&e in n)&&o(n[e],t)}},function(t,e,n){var r=n(8),o=n(34);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=9007199254740991,o=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=n(t);return!!(e=null==e?r:e)&&("number"==i||"symbol"!=i&&o.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(38),o=n(51),i=n(33);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e,n){var r=n(39),o=n(40),i=n(43),u=n(44),c=n(35),s=n(47),a=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),f=!n&&o(t),l=!n&&!f&&u(t),p=!n&&!f&&!l&&s(t),h=n||f||l||p,d=h?r(t.length,String):[],v=d.length;for(var y in t)!e&&!a.call(t,y)||h&&("length"==y||l&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||c(y,v))||d.push(y);return d}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(41),o=n(42),i=Object.prototype,u=i.hasOwnProperty,c=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return o(t)&&u.call(t,"callee")&&!c.call(t,"callee")};t.exports=s},function(t,e,n){var r=n(9),o=n(42),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return null!=t&&"object"==n(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(11),i=n(46),u="object"==r(e)&&e&&!e.nodeType&&e,c=u&&"object"==r(t)&&t&&!t.nodeType&&t,s=c&&c.exports===u?o.Buffer:void 0,a=(s?s.isBuffer:void 0)||i;t.exports=a}).call(this,n(45)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(48),o=n(49),i=n(50),u=i&&i.isTypedArray,c=u?o(u):r;t.exports=c},function(t,e,n){var r=n(9),o=n(34),i=n(42),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!u[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(12),i="object"==r(e)&&e&&!e.nodeType&&e,u=i&&"object"==r(t)&&t&&!t.nodeType&&t,c=u&&u.exports===i&&o.process,s=function(){try{var t=u&&u.require&&u.require("util").types;return t||c&&c.binding&&c.binding("util")}catch(t){}}();t.exports=s}).call(this,n(45)(t))},function(t,e,n){var r=n(36),o=n(52),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(53)(Object.keys,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(27),o=n(24),i=n(55),u=n(105),c=o((function(t){return t.push(void 0,i),r(u,void 0,t)}));t.exports=c},function(t,e,n){var r=n(56),o=n(16);t.exports=function t(e,n,i,u,c,s){return o(e)&&o(n)&&(s.set(n,e),r(e,n,void 0,t,s),s.delete(n)),e}},function(t,e,n){var r=n(57),o=n(86),i=n(87),u=n(89),c=n(16),s=n(102),a=n(100);t.exports=function t(e,n,f,l,p){e!==n&&i(n,(function(i,s){if(p||(p=new r),c(i))u(e,n,s,f,t,l,p);else{var h=l?l(a(e,s),i,s+"",e,n,p):void 0;void 0===h&&(h=i),o(e,s,h)}}),s)}},function(t,e,n){var r=n(58),o=n(65),i=n(66),u=n(67),c=n(68),s=n(69);function a(t){var e=this.__data__=new r(t);this.size=e.size}a.prototype.clear=o,a.prototype.delete=i,a.prototype.get=u,a.prototype.has=c,a.prototype.set=s,t.exports=a},function(t,e,n){var r=n(59),o=n(60),i=n(62),u=n(63),c=n(64);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=u,s.prototype.set=c,t.exports=s},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(61),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(21);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(61);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(61);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(61);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(58);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(58),o=n(70),i=n(71),u=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var c=n.__data__;if(!o||c.length<u-1)return c.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(c)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(6)(n(11),"Map");t.exports=r},function(t,e,n){var r=n(72),o=n(80),i=n(83),u=n(84),c=n(85);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=u,s.prototype.set=c,t.exports=s},function(t,e,n){var r=n(73),o=n(58),i=n(70);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(74),o=n(76),i=n(77),u=n(78),c=n(79);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=u,s.prototype.set=c,t.exports=s},function(t,e,n){var r=n(75);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e,n){var r=n(6)(Object,"create");t.exports=r},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(75),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===o?void 0:n}return i.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(75),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(75),o="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?o:e,this}},function(t,e,n){var r=n(81);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e,n){var r=n(82);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=n(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(81);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(81);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(81);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var r=n(4),o=n(21);t.exports=function(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(88)();t.exports=r},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),u=r(e),c=u.length;c--;){var s=u[t?c:++o];if(!1===n(i[s],s,i))break}return e}}},function(t,e,n){var r=n(86),o=n(90),i=n(91),u=n(94),c=n(95),s=n(40),a=n(43),f=n(98),l=n(44),p=n(8),h=n(16),d=n(99),v=n(47),y=n(100),g=n(101);t.exports=function(t,e,n,m,b,$,w){var x=y(t,n),k=y(e,n),_=w.get(k);if(_)r(t,n,_);else{var C=$?$(x,k,n+"",t,e,w):void 0,j=void 0===C;if(j){var S=a(k),U=!S&&l(k),O=!S&&!U&&v(k);C=k,S||U||O?a(x)?C=x:f(x)?C=u(x):U?(j=!1,C=o(k,!0)):O?(j=!1,C=i(k,!0)):C=[]:d(k)||s(k)?(C=x,s(x)?C=g(x):h(x)&&!p(x)||(C=c(k))):j=!1}j&&(w.set(k,C),b(C,k,m,$,w),w.delete(k)),r(t,n,C)}}},function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(11),i="object"==r(e)&&e&&!e.nodeType&&e,u=i&&"object"==r(t)&&t&&!t.nodeType&&t,c=u&&u.exports===i?o.Buffer:void 0,s=c?c.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(45)(t))},function(t,e,n){var r=n(92);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(93);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,n){var r=n(11).Uint8Array;t.exports=r},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e,n){var r=n(96),o=n(97),i=n(36);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(16),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){var r=n(53)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(33),o=n(42);t.exports=function(t){return o(t)&&r(t)}},function(t,e,n){var r=n(9),o=n(97),i=n(42),u="[object Object]",c=Function.prototype,s=Object.prototype,a=c.toString,f=s.hasOwnProperty,l=a.call(Object);t.exports=function(t){if(!i(t)||r(t)!=u)return!1;var e=o(t);if(null===e)return!0;var n=f.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==l}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e,n){var r=n(22),o=n(102);t.exports=function(t){return r(t,o(t))}},function(t,e,n){var r=n(38),o=n(103),i=n(33);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e,n){var r=n(16),o=n(36),i=n(104),u=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var c in t)("constructor"!=c||!e&&u.call(t,c))&&n.push(c);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(56),o=n(23)((function(t,e,n,o){r(t,e,n,o)}));t.exports=o},function(t,e,n){var r=n(107);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},function(t,e,n){var r=n(108),o=n(117);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){var r=n(43),o=n(109),i=n(111),u=n(114);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(u(t))}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(43),i=n(110),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;t.exports=function(t,e){if(o(t))return!1;var n=r(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(c.test(t)||!u.test(t)||null!=e&&t in Object(e))}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(9),i=n(42),u="[object Symbol]";t.exports=function(t){return"symbol"==r(t)||i(t)&&o(t)==u}},function(t,e,n){var r=n(112),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,u=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=u},function(t,e,n){var r=n(113),o=500;t.exports=function(t){var e=r(t,(function(t){return n.size===o&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(71),o="Expected a function";function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return n.cache=i.set(o,u)||i,u};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},function(t,e,n){var r=n(115);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(10),o=n(116),i=n(43),u=n(110),c=1/0,s=r?r.prototype:void 0,a=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(u(e))return a?a.call(e):"";var n=e+"";return"0"==n&&1/e==-c?"-0":n}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(110),o=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}},function(t,e,n){var r=n(119);t.exports=function(t,e,n){return null==t?t:r(t,e,n)}},function(t,e,n){var r=n(3),o=n(108),i=n(35),u=n(16),c=n(117);t.exports=function(t,e,n,s){if(!u(t))return t;for(var a=-1,f=(e=o(e,t)).length,l=f-1,p=t;null!=p&&++a<f;){var h=c(e[a]),d=n;if(a!=l){var v=p[h];void 0===(d=s?s(v,h,p):void 0)&&(d=u(v)?v:i(e[a+1])?[]:{})}r(p,h,d),p=p[h]}return t}},function(t,e,n){var r=n(121),o=n(124),i=o;i.v1=r,i.v4=o,t.exports=i},function(t,e,n){var r,o,i=n(122),u=n(123),c=0,s=0;t.exports=function(t,e,n){var a=e&&n||0,f=e||[],l=(t=t||{}).node||r,p=void 0!==t.clockseq?t.clockseq:o;if(null==l||null==p){var h=i();null==l&&(l=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=o=16383&(h[6]<<8|h[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:s+1,y=d-c+(v-s)/1e4;if(y<0&&void 0===t.clockseq&&(p=p+1&16383),(y<0||d>c)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=d,s=v,o=p;var g=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;f[a++]=g>>>24&255,f[a++]=g>>>16&255,f[a++]=g>>>8&255,f[a++]=255&g;var m=d/4294967296*1e4&268435455;f[a++]=m>>>8&255,f[a++]=255&m,f[a++]=m>>>24&15|16,f[a++]=m>>>16&255,f[a++]=p>>>8|128,f[a++]=255&p;for(var b=0;b<6;++b)f[a+b]=l[b];return e||u(f)}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},function(t,e,n){var r=n(122),o=n(123);t.exports=function(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var u=(t=t||{}).random||(t.rng||r)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,e)for(var c=0;c<16;++c)e[i+c]=u[c];return e||o(u)}},function(t,e,n){"use strict";var r,o,i,u,c;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function f(t){return(f="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(t){return s(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":s(t)})(t)}c=function(){return function t(e,n,r){function o(c,s){if(!n[c]){if(!e[c]){if(!s&&"function"==typeof u&&u)return u(c,!0);if(i)return i(c,!0);var a=new Error("Cannot find module '"+c+"'");throw a.code="MODULE_NOT_FOUND",a}var f=n[c]={exports:{}};e[c][0].call(f.exports,(function(t){return o(e[c][1][t]||t)}),f,f.exports,t,e,n,r)}return n[c].exports}for(var i="function"==typeof u&&u,c=0;c<r.length;c++)o(r[c]);return o}({1:[function(t,e,n){var r=1e3,o=60*r,i=60*o,u=24*i,c=7*u,s=365.25*u;function a(t,e,n,r){var o=e>=1.5*n;return Math.round(t/n)+" "+r+(o?"s":"")}e.exports=function(t,e){e=e||{};var n,l,p=f(t);if("string"===p&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var e=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*s;case"weeks":case"week":case"w":return n*c;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*i;case"minutes":case"minute":case"mins":case"min":case"m":return n*o;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(t);if("number"===p&&!1===isNaN(t))return e.long?(n=t,(l=Math.abs(n))>=u?a(n,l,u,"day"):l>=i?a(n,l,i,"hour"):l>=o?a(n,l,o,"minute"):l>=r?a(n,l,r,"second"):n+" ms"):function(t){var e=Math.abs(t);return e>=u?Math.round(t/u)+"d":e>=i?Math.round(t/i)+"h":e>=o?Math.round(t/o)+"m":e>=r?Math.round(t/r)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},{}],2:[function(t,e,n){var r,o,i=e.exports={};function u(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===u||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:u}catch(t){r=u}try{o="function"==typeof clearTimeout?clearTimeout:c}catch(t){o=c}}();var a,f=[],l=!1,p=-1;function h(){l&&a&&(l=!1,a.length?f=a.concat(f):p=-1,f.length&&d())}function d(){if(!l){var t=s(h);l=!0;for(var e=f.length;e;){for(a=f,f=[];++p<e;)a&&a[p].run();p=-1,e=f.length}a=null,l=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new v(t,e)),1!==f.length||l||s(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],3:[function(t,e,n){e.exports=function(e){function n(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return r.colors[Math.abs(e)%r.colors.length]}function r(t){var e;function u(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];if(u.enabled){var i=u,c=Number(new Date),s=c-(e||c);i.diff=s,i.prev=e,i.curr=c,e=c,n[0]=r.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var a=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(t,e){if("%%"===t)return t;a++;var o=r.formatters[e];if("function"==typeof o){var u=n[a];t=o.call(i,u),n.splice(a,1),a--}return t})),r.formatArgs.call(i,n),(i.log||r.log).apply(i,n)}}return u.namespace=t,u.enabled=r.enabled(t),u.useColors=r.useColors(),u.color=n(t),u.destroy=o,u.extend=i,"function"==typeof r.init&&r.init(u),r.instances.push(u),u}function o(){var t=r.instances.indexOf(this);return-1!==t&&(r.instances.splice(t,1),!0)}function i(t,e){var n=r(this.namespace+(void 0===e?":":e)+t);return n.log=this.log,n}function u(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(t){return t instanceof Error?t.stack||t.message:t},r.disable=function(){var t=[].concat(a(r.names.map(u)),a(r.skips.map(u).map((function(t){return"-"+t})))).join(",");return r.enable(""),t},r.enable=function(t){var e;r.save(t),r.names=[],r.skips=[];var n=("string"==typeof t?t:"").split(/[\s,]+/),o=n.length;for(e=0;e<o;e++)n[e]&&("-"===(t=n[e].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$")));for(e=0;e<r.instances.length;e++){var i=r.instances[e];i.enabled=r.enabled(i.namespace)}},r.enabled=function(t){if("*"===t[t.length-1])return!0;var e,n;for(e=0,n=r.skips.length;e<n;e++)if(r.skips[e].test(t))return!1;for(e=0,n=r.names.length;e<n;e++)if(r.names[e].test(t))return!0;return!1},r.humanize=t("ms"),Object.keys(e).forEach((function(t){r[t]=e[t]})),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=n,r.enable(r.load()),r}},{ms:1}],4:[function(t,e,n){(function(r){n.log=function(){var t;return"object"===("undefined"==typeof console?"undefined":f(console))&&console.log&&(t=console).log.apply(t,arguments)},n.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(t){"%%"!==t&&(r++,"%c"===t&&(o=r))})),t.splice(o,0,n)}},n.save=function(t){try{t?n.storage.setItem("debug",t):n.storage.removeItem("debug")}catch(t){}},n.load=function(){var t;try{t=n.storage.getItem("debug")}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t},n.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function(){try{return localStorage}catch(t){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=t("./common")(n),e.exports.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}).call(this,t("_process"))},{"./common":3,_process:2}]},{},[4])(4)},"object"===f(e)&&void 0!==t?t.exports=c():(o=[],void 0===(i="function"==typeof(r=c)?r.apply(e,o):r)||(t.exports=i))},function(t,e,n){"use strict";n.r(e),n.d(e,"Providers",(function(){return f}));var r=n(127),o=n(128),i=n(129),u=n(130),c=n(131),s=n(132);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,f;return e=t,f=[{key:"auth0",get:function(){return r.default}},{key:"hydra",get:function(){return s.default}},{key:"azure",get:function(){return o.default}},{key:"cognito",get:function(){return i.default}},{key:"wso2",get:function(){return u.default}},{key:"okta",get:function(){return c.default}}],(n=null)&&a(e.prototype,n),f&&a(e,f),t}();e.default=f},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"deauthorizeUrl",value:function(t){return this.$utilities.createUrl("".concat(t.providerUrl,"/v2/logout"),{returnTo:t.redirectUrl&&t.redirectUrl.logoutUrl||t.redirectUrl,client_id:t.clientId})}}],(n=null)&&r(e.prototype,n),o&&r(e,o),t}();e.default=o},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"authorizeEndpoint",value:function(t){return"".concat(t.providerUrl,"/oauth2/authorize")}},{key:"deauthorizeUrl",value:function(t){return this.$utilities.createUrl("".concat(t.providerUrl,"/oauth2/logout"),{post_logout_redirect_uri:t.redirectUrl&&t.redirectUrl.logoutUrl||t.redirectUrl})}}],(n=null)&&r(e.prototype,n),o&&r(e,o),t}();e.default=o},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"authorizeEndpoint",value:function(t){return"".concat(t.providerUrl,"/oauth2/authorize")}},{key:"deauthorizeUrl",value:function(t){return this.$utilities.createUrl("".concat(t.providerUrl,"/logout"),{logout_uri:t.redirectUrl&&t.redirectUrl.logoutUrl||t.redirectUrl,client_id:t.clientId})}},{key:"defaultConfig",get:function(){return{validation:{nonce:!1}}}}],(n=null)&&r(e.prototype,n),o&&r(e,o),t}();e.default=o},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"deauthorizeUrl",value:function(t){return this.$utilities.createUrl("".concat(t.providerUrl,"/commonauth"),{commonAuthLogout:!0,type:"oidc",commonAuthCallerPath:t.redirectUrl&&t.redirectUrl.logoutUrl||t.redirectUrl,relyingParty:t.relyingParty})}}],(n=null)&&r(e.prototype,n),o&&r(e,o),t}();e.default=o},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"authorizeEndpoint",value:function(t){return"".concat(t.providerUrl,"/oauth2/v1/authorize")}},{key:"deauthorizeUrl",value:function(t){return this.$utilities.createUrl("".concat(t.providerUrl,"/oauth2/v1/logout"),{id_token_hint:t.idToken,post_logout_redirect_uri:t.redirectUrl&&t.redirectUrl.logoutUrl||t.redirectUrl})}}],(n=null)&&r(e.prototype,n),o&&r(e,o),t}();e.default=o},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,o=[{key:"authorizeEndpoint",value:function(t){return"".concat(t.providerUrl,"/oauth2/auth")}},{key:"deauthorizeUrl",value:function(t){return this.$utilities.createUrl("".concat(t.providerUrl,"/oauth2/sessions/logout"),{returnTo:t.redirectUrl&&t.redirectUrl.logoutUrl||t.redirectUrl,client_id:t.clientId})}}],(n=null)&&r(e.prototype,n),o&&r(e,o),t}();e.default=o},function(t,e,n){"use strict";n.r(e),n.d(e,"SalteAuthProfile",(function(){return h}));var r=n(134),o=n.n(r),i=n(54),u=n.n(i),c=n(135),s=n.n(c),a=n(125);function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=n.n(a)()("@salte-auth/salte-auth:profile"),h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p("Appending defaults to config..."),this.$$config=u()(e,{validation:{nonce:!0,state:!0,azp:!0,aud:!0},storageType:"session"}),this.userInfo=null,this.$refreshUserInfo()}var e,n,r;return e=t,(n=[{key:"$parseParams",value:function(){if(location.search||location.hash){var t=location.search.replace(/^\?/,"").split("&").concat(location.hash.replace(/(#!?[^#]+)?#/,"").split("&"));p("Hash detected, parsing...",t);for(var e=0;e<t.length;e++){var n=f(t[e].split("="),2),r=n[0],o=n[1];this.$parse(r,decodeURIComponent(o))}p("Removing hash..."),history.pushState("",document.title,location.href.replace(location.search,"").replace(location.hash,""))}}},{key:"$parse",value:function(t,e){switch(t){case"token_type":this.$tokenType=e;break;case"expires_in":this.$expiration=Date.now()+1e3*Number(e);break;case"access_token":this.$accessToken=e;break;case"id_token":this.$idToken=e;break;case"code":this.code=e;break;case"state":this.$state=e;break;case"error":this.$error=e;break;case"error_description":this.$errorDescription=e}}},{key:"$actions",value:function(t,e){if(!e)return this.$getItem("salte.auth.action.".concat(t));this.$saveItem("salte.auth.action.".concat(t),e)}},{key:"$refreshUserInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$idToken,e=null;if(t){var n=t.split(".");if(3===n.length){var r=n[1].replace(/-/g,"+").replace(/_/g,"/");e=JSON.parse(atob(r))}}this.userInfo=e}},{key:"$validate",value:function(t){var e=this;if(this.$refreshUserInfo(),this.$$config.validation){if(this.$error)return{code:this.$error,description:this.$errorDescription};if("code"===this.$$config.responseType&&!this.code||"code"!==this.$$config.responseType&&!this.$idToken)return{code:"login_canceled",description:"User likely canceled the login or something unexpected occurred."};if(this.$$config.validation.state&&this.$localState!==this.$state)return{code:"invalid_state",description:"State provided by identity provider did not match local state."};if("code"!==this.$$config.responseType&&!t){if(this.$$config.validation.nonce&&this.$nonce!==this.userInfo.nonce)return{code:"invalid_nonce",description:"Nonce provided by identity provider did not match local nonce."};if(Array.isArray(this.userInfo.aud)){if(this.$$config.validation.azp){if(!this.userInfo.azp)return{code:"invalid_azp",description:"Audience was returned as an array and AZP was not present on the ID Token."};if(this.userInfo.azp!==this.$$config.clientId)return{code:"invalid_azp",description:"AZP does not match the Client ID."}}if(this.$$config.validation.aud&&!s()(this.userInfo.aud,(function(t){return t===e.$$config.clientId})))return{code:"invalid_aud",description:"None of the audience values matched the Client ID."}}else if(this.$$config.validation.aud&&this.userInfo.aud!==this.$$config.clientId)return{code:"invalid_aud",description:"The audience did not match the Client ID."}}}else p("Validation is disabled, skipping...")}},{key:"$getItem",value:function(t,e){var n;return n="cookie"===e?o.a.get(t):(e?this.$$getStorage(e):this.$storage).getItem(t),-1===[void 0,null].indexOf(n)?n:null}},{key:"$saveItem",value:function(t,e,n){if("cookie"===n)-1!==[void 0,null].indexOf(e)?o.a.remove(t):o.a.set(t,e);else{var r=n?this.$$getStorage(n):this.$storage;-1!==[void 0,null].indexOf(e)?r.removeItem(t):r.setItem(t,e)}}},{key:"$$getStorage",value:function(t){if("local"===t)return localStorage;if("session"===t)return sessionStorage;throw new ReferenceError("Unknown Storage Type (".concat(t,")"))}},{key:"$clear",value:function(t){var e=t?new RegExp(/^salte\.auth\./):new RegExp(/^salte\.auth\.[^$]/);for(var n in localStorage)n.match(e)&&localStorage.removeItem(n);for(var r in sessionStorage)r.match(e)&&sessionStorage.removeItem(r);for(var i in o.a.getJSON())i.match(e)&&o.a.remove(i);this.$refreshUserInfo()}},{key:"$clearErrors",value:function(){this.$error=void 0,this.$errorDescription=void 0}},{key:"idTokenExpired",get:function(){return!this.$idToken||Date.now()>=1e3*this.userInfo.exp}},{key:"accessTokenExpired",get:function(){return!this.$accessToken||Date.now()>=this.$expiration}},{key:"$tokenType",get:function(){return this.$getItem("salte.auth.$token-type","cookie")},set:function(t){this.$saveItem("salte.auth.$token-type",t,"cookie")}},{key:"$expiration",get:function(){var t=this.$getItem("salte.auth.expiration");return t?Number(t):null},set:function(t){this.$saveItem("salte.auth.expiration",t)}},{key:"$accessToken",get:function(){return this.$getItem("salte.auth.access-token")},set:function(t){this.$saveItem("salte.auth.access-token",t)}},{key:"$idToken",get:function(){return this.$getItem("salte.auth.id-token")},set:function(t){this.$saveItem("salte.auth.id-token",t)}},{key:"code",get:function(){return this.$getItem("salte.auth.code")},set:function(t){this.$saveItem("salte.auth.code",t)}},{key:"$state",get:function(){return this.$getItem("salte.auth.$state","cookie")},set:function(t){this.$saveItem("salte.auth.$state",t,"cookie")}},{key:"$localState",get:function(){return this.$getItem("salte.auth.$local-state","cookie")},set:function(t){this.$saveItem("salte.auth.$local-state",t,"cookie")}},{key:"$error",get:function(){return this.$getItem("salte.auth.error")},set:function(t){this.$saveItem("salte.auth.error",t)}},{key:"$errorDescription",get:function(){return this.$getItem("salte.auth.error-description")},set:function(t){this.$saveItem("salte.auth.error-description",t)}},{key:"$redirectUrl",get:function(){return this.$getItem("salte.auth.$redirect-url","cookie")},set:function(t){this.$saveItem("salte.auth.$redirect-url",t,"cookie")}},{key:"$nonce",get:function(){return this.$getItem("salte.auth.$nonce","cookie")},set:function(t){this.$saveItem("salte.auth.$nonce",t,"cookie")}},{key:"$storage",get:function(){return this.$$getStorage(this.$$config.storageType)}}])&&l(e.prototype,n),r&&l(e,r),t}();e.default=h},function(t,e,n){var r,o;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(u){var c;if(void 0===(o="function"==typeof(r=u)?r.call(e,n,e,t):r)||(t.exports=o),c=!0,"object"===i(e)&&(t.exports=u(),c=!0),!c){var s=window.Cookies,a=window.Cookies=u();a.noConflict=function(){return window.Cookies=s,a}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=t({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var u=JSON.stringify(n);/^[\{\[]/.test(u)&&(n=u)}catch(t){}n=r.write?r.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var s in i)i[s]&&(c+="; "+s,!0!==i[s]&&(c+="="+i[s].split(";")[0]));return document.cookie=e+"="+n+c}}function u(t,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],u=0;u<i.length;u++){var c=i[u].split("="),s=c.slice(1).join("=");n||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var a=e(c[0]);if(s=(r.read||r)(s,a)||e(s),n)try{s=JSON.parse(s)}catch(t){}if(o[a]=s,t===a)break}catch(t){}}return t?o[t]:o}}return o.set=i,o.get=function(t){return u(t,!1)},o.getJSON=function(t){return u(t,!0)},o.remove=function(e,n){i(e,"",t(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},function(t,e,n){var r=n(136)(n(173));t.exports=r},function(t,e,n){var r=n(137),o=n(33),i=n(37);t.exports=function(t){return function(e,n,u){var c=Object(e);if(!o(e)){var s=r(n,3);e=i(e),n=function(t){return s(c[t],t,c)}}var a=t(e,n,u);return a>-1?c[s?e[a]:a]:void 0}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(138),i=n(166),u=n(25),c=n(43),s=n(170);t.exports=function(t){return"function"==typeof t?t:null==t?u:"object"==r(t)?c(t)?i(t[0],t[1]):o(t):s(t)}},function(t,e,n){var r=n(139),o=n(163),i=n(165);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(57),o=n(140),i=1,u=2;t.exports=function(t,e,n,c){var s=n.length,a=s,f=!c;if(null==t)return!a;for(t=Object(t);s--;){var l=n[s];if(f&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<a;){var p=(l=n[s])[0],h=t[p],d=l[1];if(f&&l[2]){if(void 0===h&&!(p in t))return!1}else{var v=new r;if(c)var y=c(h,d,p,t,e,v);if(!(void 0===y?o(d,h,i|u,c,v):y))return!1}}return!0}},function(t,e,n){var r=n(141),o=n(42);t.exports=function t(e,n,i,u,c){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,u,t,c))}},function(t,e,n){var r=n(57),o=n(142),i=n(148),u=n(151),c=n(158),s=n(43),a=n(44),f=n(47),l=1,p="[object Arguments]",h="[object Array]",d="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,y,g,m){var b=s(t),$=s(e),w=b?h:c(t),x=$?h:c(e),k=(w=w==p?d:w)==d,_=(x=x==p?d:x)==d,C=w==x;if(C&&a(t)){if(!a(e))return!1;b=!0,k=!1}if(C&&!k)return m||(m=new r),b||f(t)?o(t,e,n,y,g,m):i(t,e,w,n,y,g,m);if(!(n&l)){var j=k&&v.call(t,"__wrapped__"),S=_&&v.call(e,"__wrapped__");if(j||S){var U=j?t.value():t,O=S?e.value():e;return m||(m=new r),g(U,O,n,y,m)}}return!!C&&(m||(m=new r),u(t,e,n,y,g,m))}},function(t,e,n){var r=n(143),o=n(146),i=n(147),u=1,c=2;t.exports=function(t,e,n,s,a,f){var l=n&u,p=t.length,h=e.length;if(p!=h&&!(l&&h>p))return!1;var d=f.get(t);if(d&&f.get(e))return d==e;var v=-1,y=!0,g=n&c?new r:void 0;for(f.set(t,e),f.set(e,t);++v<p;){var m=t[v],b=e[v];if(s)var $=l?s(b,m,v,e,t,f):s(m,b,v,t,e,f);if(void 0!==$){if($)continue;y=!1;break}if(g){if(!o(e,(function(t,e){if(!i(g,e)&&(m===t||a(m,t,n,s,f)))return g.push(e)}))){y=!1;break}}else if(m!==b&&!a(m,b,n,s,f)){y=!1;break}}return f.delete(t),f.delete(e),y}},function(t,e,n){var r=n(71),o=n(144),i=n(145);function u(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}u.prototype.add=u.prototype.push=o,u.prototype.has=i,t.exports=u},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(10),o=n(93),i=n(21),u=n(142),c=n(149),s=n(150),a=1,f=2,l="[object Boolean]",p="[object Date]",h="[object Error]",d="[object Map]",v="[object Number]",y="[object RegExp]",g="[object Set]",m="[object String]",b="[object Symbol]",$="[object ArrayBuffer]",w="[object DataView]",x=r?r.prototype:void 0,k=x?x.valueOf:void 0;t.exports=function(t,e,n,r,x,_,C){switch(n){case w:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case $:return!(t.byteLength!=e.byteLength||!_(new o(t),new o(e)));case l:case p:case v:return i(+t,+e);case h:return t.name==e.name&&t.message==e.message;case y:case m:return t==e+"";case d:var j=c;case g:var S=r&a;if(j||(j=s),t.size!=e.size&&!S)return!1;var U=C.get(t);if(U)return U==e;r|=f,C.set(t,e);var O=u(j(t),j(e),r,x,_,C);return C.delete(t),O;case b:if(k)return k.call(t)==k.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(152),o=1,i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,u,c,s){var a=n&o,f=r(t),l=f.length;if(l!=r(e).length&&!a)return!1;for(var p=l;p--;){var h=f[p];if(!(a?h in e:i.call(e,h)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var v=!0;s.set(t,e),s.set(e,t);for(var y=a;++p<l;){var g=t[h=f[p]],m=e[h];if(u)var b=a?u(m,g,h,e,t,s):u(g,m,h,t,e,s);if(!(void 0===b?g===m||c(g,m,n,u,s):b)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var $=t.constructor,w=e.constructor;$!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof $&&$ instanceof $&&"function"==typeof w&&w instanceof w)&&(v=!1)}return s.delete(t),s.delete(e),v}},function(t,e,n){var r=n(153),o=n(155),i=n(37);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(154),o=n(43);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(156),o=n(157),i=Object.prototype.propertyIsEnumerable,u=Object.getOwnPropertySymbols,c=u?function(t){return null==t?[]:(t=Object(t),r(u(t),(function(e){return i.call(t,e)})))}:o;t.exports=c},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[o++]=u)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(159),o=n(70),i=n(160),u=n(161),c=n(162),s=n(9),a=n(19),f=a(r),l=a(o),p=a(i),h=a(u),d=a(c),v=s;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||u&&"[object Set]"!=v(new u)||c&&"[object WeakMap]"!=v(new c))&&(v=function(t){var e=s(t),n="[object Object]"==e?t.constructor:void 0,r=n?a(n):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var r=n(6)(n(11),"DataView");t.exports=r},function(t,e,n){var r=n(6)(n(11),"Promise");t.exports=r},function(t,e,n){var r=n(6)(n(11),"Set");t.exports=r},function(t,e,n){var r=n(6)(n(11),"WeakMap");t.exports=r},function(t,e,n){var r=n(164),o=n(37);t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],u=t[i];e[n]=[i,u,r(u)]}return e}},function(t,e,n){var r=n(16);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(140),o=n(106),i=n(167),u=n(109),c=n(164),s=n(165),a=n(117),f=1,l=2;t.exports=function(t,e){return u(t)&&c(e)?s(a(t),e):function(n){var u=o(n,t);return void 0===u&&u===e?i(n,t):r(e,u,f|l)}}},function(t,e,n){var r=n(168),o=n(169);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(108),o=n(40),i=n(43),u=n(35),c=n(34),s=n(117);t.exports=function(t,e,n){for(var a=-1,f=(e=r(e,t)).length,l=!1;++a<f;){var p=s(e[a]);if(!(l=null!=t&&n(t,p)))break;t=t[p]}return l||++a!=f?l:!!(f=null==t?0:t.length)&&c(f)&&u(p,f)&&(i(t)||o(t))}},function(t,e,n){var r=n(171),o=n(172),i=n(109),u=n(117);t.exports=function(t){return i(t)?r(u(t)):o(t)}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(107);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e,n){var r=n(174),o=n(137),i=n(175),u=Math.max;t.exports=function(t,e,n){var c=null==t?0:t.length;if(!c)return-1;var s=null==n?0:i(n);return s<0&&(s=u(c+s,0)),r(t,o(e,3),s)}},function(t,e){t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},function(t,e,n){var r=n(176);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(177),o=1/0,i=17976931348623157e292;t.exports=function(t){return t?(t=r(t))===o||t===-o?(t<0?-1:1)*i:t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(16),o=n(110),i=NaN,u=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,f=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return i;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var n=s.test(t);return n||a.test(t)?f(t.slice(2),n?2:8):c.test(t)?i:+t}},function(t,e,n){"use strict";n.r(e),n.d(e,"SalteAuthUtilities",(function(){return s}));var r=n(2),o=n.n(r),i=n(125);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=n.n(i)()("@salte-auth/salte-auth:utilities"),s=function(){function t(e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.$$config=e,this.$interceptors={fetch:[],xhr:[]},c("Setting up wrappers for XMLHttpRequest..."),n=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=function(t,e){return this.$url=e,n.call(this,t,e)};var r,o=this;r=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(t){for(var e=this,n=[],i=0;i<o.$interceptors.xhr.length;i++){var u=o.$interceptors.xhr[i];n.push(u(this,t))}Promise.all(n).then((function(){r.call(e,t)})).catch((function(t){var n=document.createEvent("Event");n.initEvent("error",!1,!0),n.detail=t,e.dispatchEvent(n)}))},window.fetch&&(c("Fetch detected, setting up wrappers..."),function(t){window.fetch=function(e,n){for(var r=this,i=e instanceof Request?e:new Request(e,n),u=[],c=0;c<o.$interceptors.fetch.length;c++){var s=o.$interceptors.fetch[c];u.push(s(i))}return Promise.all(u).then((function(){return t.call(r,i)}))}}(fetch))}var e,n,r;return e=t,(n=[{key:"createUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;return Object.keys(e).forEach((function(t){var r=e[t];-1===[void 0,null,""].indexOf(r)&&(n+="".concat(-1===n.indexOf("?")?"?":"&").concat(t,"=").concat(encodeURIComponent(r)))})),n}},{key:"resolveUrl",value:function(t){return this.$$urlDocument||(this.$$urlDocument=document.implementation.createHTMLDocument("url"),this.$$urlBase=this.$$urlDocument.createElement("base"),this.$$urlAnchor=this.$$urlDocument.createElement("a"),this.$$urlDocument.head.appendChild(this.$$urlBase)),this.$$urlBase.href=window.location.protocol+"//"+window.location.host,this.$$urlAnchor.href=t.replace(/ /g,"%20"),this.$$urlAnchor.href.replace(/\/$/,"")}},{key:"checkForMatchingUrl",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.resolveUrl(t),r=0;r<e.length;r++){var o=e[r];if(o instanceof RegExp){if(n.match(o))return!0}else if(0===n.indexOf(this.resolveUrl(o)))return!0}return!1}},{key:"isRouteSecure",value:function(t,e){return!0===e||e instanceof Array&&this.checkForMatchingUrl(t,e)}},{key:"openPopup",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"salte-auth",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:600,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:400,i=window.innerHeight/2-r/2+window.screenTop,u=window.innerWidth/2-o/2+window.screenLeft,c=window.open(t,n,"height=".concat(r,", width=").concat(o,", status=yes, toolbar=no, menubar=no, location=no, top=").concat(i,", left=").concat(u));return c?(c.focus(),new Promise((function(t){var n=setInterval((function(){try{if(!c.closed){var r=e.$$config.redirectUrl&&e.$$config.redirectUrl.loginUrl||e.$$config.redirectUrl,o=e.$$config.redirectUrl&&e.$$config.redirectUrl.logoutUrl||e.$$config.redirectUrl;if(0!==c.location.href.indexOf(r)||0!==c.location.href.indexOf(o))return;location.hash=c.location.hash,c.close()}clearInterval(n),setTimeout(t)}catch(t){}}),100)}))):Promise.reject(new ReferenceError("We were unable to open the popup window, its likely that the request was blocked."))}},{key:"openNewTab",value:function(t){var e=this,n=window.open(t,"_blank");return n?(n.name="salte-auth",n.focus(),new Promise((function(t){var r=setInterval((function(){try{if(!n.closed){var o=e.$$config.redirectUrl&&e.$$config.redirectUrl.loginUrl||e.$$config.redirectUrl,i=e.$$config.redirectUrl&&e.$$config.redirectUrl.logoutUrl||e.$$config.redirectUrl;if(0!==n.location.href.indexOf(o)||0!==n.location.href.indexOf(i))return;location.hash=n.location.hash,n.close()}clearInterval(r),setTimeout(t)}catch(t){}}),100)}))):Promise.reject(new ReferenceError("We were unable to open the new tab, its likely that the request was blocked."))}},{key:"createIframe",value:function(t,e,n){var r=document.createElement("iframe");return r.setAttribute("owner","salte-auth"),e?(o()(r.style,{position:"fixed",top:0,bottom:0,left:0,right:0,height:"100%",width:"100%",zIndex:9999,border:"none",opacity:0,transition:"0.5s opacity"}),setTimeout((function(){r.style.opacity=1}))):r.style.display="none",r.src=t,document.body.appendChild(r),new Promise((function(t,e){var o=n&&setTimeout((function(){e(new Error("Iframe failed to respond in time."))}),n);r.addEventListener("DOMNodeRemoved",(function(){setTimeout(t),clearTimeout(o)}),{passive:!0})}))}},{key:"addXHRInterceptor",value:function(t){this.$interceptors.xhr.push(t)}},{key:"addFetchInterceptor",value:function(t){this.$interceptors.fetch.push(t)}},{key:"$navigate",value:function(t){location.href=t}},{key:"$iframe",get:function(){return window.self===window.top?null:parent.document.querySelector('body > iframe[owner="salte-auth"]')}},{key:"$popup",get:function(){return window.opener&&"salte-auth"===window.name?window:null}},{key:"$hidden",get:function(){return document.hidden}}])&&u(e.prototype,n),r&&u(e,r),t}();e.default=s},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.r(e),n.d(e,"SalteAuthMixinGenerator",(function(){return s}));var s=function(t){var e=[];return t.on("login",(function(n,r){if(n)console.error(n);else for(var o=0;o<e.length;o++)e[o].user=r,e[o].authenticated=!t.profile.idTokenExpired})),t.on("logout",(function(t){if(t)console.error(t);else for(var n=0;n<e.length;n++)e[n].user=null,e[n].authenticated=!1})),t.on("expired",(function(){for(var t=0;t<e.length;t++)e[t].authenticated=!1})),function(n){return function(n){function s(){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?u(t):e}(this,i(s).call(this)),e.push(u(n)),n.user=t.profile.userInfo||null,n.authenticated=!t.profile.idTokenExpired,n}var a,f,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(s,n),a=s,(f=[{key:"auth",get:function(){return t}},{key:"user",get:function(){return this.$$user},set:function(t){var e=this.$$user;this.$$user=t,this.requestUpdate&&this.requestUpdate("user",e)}},{key:"authenticated",get:function(){return this.$$authenticated},set:function(t){var e=this.$$authenticated;this.$$authenticated=t,this.requestUpdate&&this.requestUpdate("authenticated",e)}}])&&o(a.prototype,f),l&&o(a,l),s}(n)}};e.default=s}])}));
//# sourceMappingURL=salte-auth.min.js.map